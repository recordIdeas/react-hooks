import{a3 as K,b4 as Y,b5 as L,b6 as _,$ as Q,b7 as Z,b8 as J,r as s,y as E,f as X,A as $,h as A,o as I,al as ee,ai as te,Z as x,P as oe,Q as ne,G as re}from"./index-CBUAL_Sk.js";var h=K({},Y),se=h.version,ae=h.render,ie=h.unmountComponentAtNode,C;try{var ue=Number((se||"").split(".")[0]);ue>=18&&(C=h.createRoot)}catch{}function O(e){var t=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&Q(t)==="object"&&(t.usingClientEntryPoint=e)}var y="__rc_react_root__";function ce(e,t){O(!0);var o=t[y]||C(t);O(!1),o.render(e),t[y]=o}function le(e,t){ae(e,t)}function de(e,t){if(C){ce(e,t);return}le(e,t)}function fe(e){return w.apply(this,arguments)}function w(){return w=L(_().mark(function e(t){return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.resolve().then(function(){var r;(r=t[y])===null||r===void 0||r.unmount(),delete t[y]}));case 1:case"end":return n.stop()}},e)})),w.apply(this,arguments)}function pe(e){ie(e)}function ve(e){return N.apply(this,arguments)}function N(){return N=L(_().mark(function e(t){return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(C===void 0){n.next=2;break}return n.abrupt("return",fe(t));case 2:pe(t);case 3:case"end":return n.stop()}},e)})),N.apply(this,arguments)}const me=e=>{const{componentCls:t,colorPrimary:o}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${o})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},be=Z("Wave",e=>[me(e)]),k=`${J}-wave-target`;function S(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function he(e){const{borderTopColor:t,borderColor:o,backgroundColor:n}=getComputedStyle(e);return S(t)?t:S(o)?o:S(n)?n:null}function g(e){return Number.isNaN(e)?0:e}const Re=e=>{const{className:t,target:o,component:n}=e,r=s.useRef(null),[c,f]=s.useState(null),[p,R]=s.useState([]),[l,a]=s.useState(0),[v,m]=s.useState(0),[D,P]=s.useState(0),[U,j]=s.useState(0),[B,F]=s.useState(!1),W={left:l,top:v,width:D,height:U,borderRadius:p.map(u=>`${u}px`).join(" ")};c&&(W["--wave-color"]=c);function T(){const u=getComputedStyle(o);f(he(o));const i=u.position==="static",{borderLeftWidth:d,borderTopWidth:b}=u;a(i?o.offsetLeft:g(-parseFloat(d))),m(i?o.offsetTop:g(-parseFloat(b))),P(o.offsetWidth),j(o.offsetHeight);const{borderTopLeftRadius:z,borderTopRightRadius:M,borderBottomLeftRadius:G,borderBottomRightRadius:H}=u;R([z,M,H,G].map(V=>g(parseFloat(V))))}if(s.useEffect(()=>{if(o){const u=E(()=>{T(),F(!0)});let i;return typeof ResizeObserver<"u"&&(i=new ResizeObserver(T),i.observe(o)),()=>{E.cancel(u),i==null||i.disconnect()}}},[]),!B)return null;const q=(n==="Checkbox"||n==="Radio")&&(o==null?void 0:o.classList.contains(k));return s.createElement(X,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(u,i)=>{var d;if(i.deadline||i.propertyName==="opacity"){const b=(d=r.current)===null||d===void 0?void 0:d.parentElement;ve(b).then(()=>{b==null||b.remove()})}return!1}},(u,i)=>{let{className:d}=u;return s.createElement("div",{ref:$(r,i),className:A(t,d,{"wave-quick":q}),style:W})})},_e=(e,t)=>{var o;const{component:n}=t;if(n==="Checkbox"&&!(!((o=e.querySelector("input"))===null||o===void 0)&&o.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",e==null||e.insertBefore(r,e==null?void 0:e.firstChild),de(s.createElement(Re,Object.assign({},t,{target:e})),r)},Ee=(e,t,o)=>{const{wave:n}=s.useContext(I),[,r,c]=ee(),f=te(l=>{const a=e.current;if(n!=null&&n.disabled||!a)return;const v=a.querySelector(`.${k}`)||a,{showEffect:m}=n||{};(m||_e)(v,{className:t,token:r,component:o,event:l,hashId:c})}),p=s.useRef();return l=>{E.cancel(p.current),p.current=E(()=>{f(l)})}},Ce=e=>{const{children:t,disabled:o,component:n}=e,{getPrefixCls:r}=s.useContext(I),c=s.useRef(null),f=r("wave"),[,p]=be(f),R=Ee(c,A(f,p),n);if(x.useEffect(()=>{const a=c.current;if(!a||a.nodeType!==1||o)return;const v=m=>{!re(m.target)||!a.getAttribute||a.getAttribute("disabled")||a.disabled||a.className.includes("disabled")||a.className.includes("-leave")||R(m)};return a.addEventListener("click",v,!0),()=>{a.removeEventListener("click",v,!0)}},[o]),!x.isValidElement(t))return t??null;const l=oe(t)?$(t.ref,c):c;return ne(t,{ref:l})};export{k as T,Ce as W};
